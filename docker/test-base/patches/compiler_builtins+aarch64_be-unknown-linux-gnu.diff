diff --git a/build.rs b/build.rs
index 4549d0b..26db6b4 100644
--- a/build.rs
+++ b/build.rs
@@ -91,7 +91,7 @@ fn main() {
         println!("cargo:rustc-cfg=kernel_user_helpers")
     }

-    if llvm_target[0] == "aarch64" {
+    if llvm_target[0].starts_with("aarch64") {
         generate_aarch64_outlined_atomics();
     }
 }
